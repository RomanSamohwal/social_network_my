{"version":3,"sources":["redux/dialogs-reducer.ts","components/common/Material_ui/ImageAvatars.js","components/Header/Header.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","assets/images/ava.jpg","api/api.js","components/Profile/MyPosts/Post/Post.module.css","components/Profile/Profile.module.css","components/Navbar/Navbar.module.css","redux/auth-reducer.ts","redux/app-reducer.ts","components/common/Preloader/SimpleBackdrop.js","components/common/Preloader/Preloader.js","redux/profile-reducer.ts","components/utils/object-helpers.js","redux/users-reducer.ts","redux/redux-store.js","components/Navbar/Navbar.js","components/Header/Header.js","components/Header/HeaderContainer.js","components/Profile/ProfileInfo/ProfileStatusWithHooks.js","components/common/FormsControl/FormsControls.js","components/Profile/ProfileInfo/ProfileDataForm.js","components/Profile/ProfileInfo/ProfileInfo.js","components/Profile/MyPosts/Post/Post.js","components/Profile/MyPosts/MyPosts.js","components/Profile/MyPosts/MyPostsContainer.js","components/Profile/Profile.js","components/Profile/ProfileInfo/ProfileContainer.js","components/News/News.js","components/Music/Music.js","components/Users/User.js","components/common/Material_ui/BasicPaginator.js","components/Users/Users.js","redux/users-selectors.js","components/Users/UsersContainer.js","components/utils/vadidators/validators.js","components/login/Login.js","components/Settings/Settings.js","Panel.js","App.js","index.js","components/Users/users.module.css","components/common/FormsControl/FormsControls.module.css","components/Profile/MyPosts/MyPosts.module.css"],"names":["GET_DIALOGS_SUCCESS","GET_MESSAGE_SUCCESS","SET_FETCHING_SUCCESS","initialState","messages","dialogs","selectedDialogId","newMessagesCount","needRefresh","currentDialogMessagesCount","fetching","getDialogsSuccess","type","payload","putUpDialogSuccess","userId","setCurrentDialogSuccess","setNewMessagesCountSuccess","count","setHasNewMessagesSuccess","hasNewMessages","setNeedRefreshSuccess","setFetchingSuccess","getDialogs","dispatch","a","dialogAPI","getDialog","getMessages","getMessage","result","some","m","viewed","totalCount","sendMessage","body","res","message","data","startDialog","getState","dialog","dialogsPage","find","d","id","init","updateDialog","getNewMessagesCount","getSate","state","dialogsReducer","action","map","filter","useStyles","makeStyles","theme","root","display","margin","spacing","small","width","height","large","ImageAvatars","props","classes","className","alt","src","avatar","module","exports","instance","axios","baseURL","withCredentials","headers","userAPI","getUsers","currentPage","pageSize","get","then","response","follow","post","unfollow","delete","profileAPI","getProfile","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","items","getMessagesNewerThen","deleteMessage","messageId","SET_USER_DATA","isAuth","isFetching","captchaUrl","setAuthUserData","getCaptchaUrlSuccess","getAuthUserData","resultCode","url","authReducer","initialized","backdrop","zIndex","drawer","color","SimpleBackdrop","React","useState","open","Backdrop","CircularProgress","Preloader","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO","posts","likesCount","newPostText","setStatus","getUserProfile","profileReducer","newPost","p","postId","photos","updateObjectInArray","itemId","objPropName","newObjProps","u","users","totalUsersCount","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","reducers","combineReducers","profilePage","usersPage","auth","app","form","formReducer","store","createStore","applyMiddleware","thunkMiddleware","logger","window","Navbar","s","nav","item","to","activeClassName","active","ListItem","button","ListItemIcon","ListItemText","primary","Header","header","loginBlock","Button","variant","onClick","Logout","HeaderContainer","this","Component","connect","ProfileStatusWithHooks","editMode","setEditMode","useEffect","style","flexDirection","justifyContent","alignItems","onDoubleClick","onChange","e","currentTarget","value","autoFocus","onBlur","FormControl","input","meta","touched","error","children","hasError","formControl","Textarea","restProps","TextField","label","InputType","Input","createField","placeholder","name","component","validate","text","Field","ProfileDataReduxForm","reduxForm","handleSubmit","aboutMe","onSubmit","formSummaryError","descriptionBlock","Object","keys","contacts","key","contact","Contact","contactTitle","contactValue","href","textDecoration","ProfileData","isOwner","goToEditMode","ProfileInfoContainer","allInformation","generalInformation","capContainer","cap","fullName","lookingForAJob","lookingForAJobDescription","contactInformation","editButton","Fab","aria-label","size","ProfileInfo","content","Container","maxWidth","padding","Paper","backgroundColor","mainPhoto","accept","target","files","length","htmlFor","IconButton","initialValues","Post","likeCount","MyPosts","memo","photo","postsElement","postsBlock","PostReduxForm","values","addPost","postContainer","MyPostsContainer","addPostActionCreator","Profile","ProfileContainer","match","params","authorizedUserId","history","push","refreshProfile","handleDrawerClose","prevProps","prevState","compose","file","stopSubmit","_error","withRouter","News","Music","User","user","userContainer","disabled","marginTop","BasicPagination","Pagination","Math","ceil","totalItemCount","onPageChanged","Users","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","requestUsers","render","bind","page","required","LoginReduxForm","getLogin","loginContainer","Settings","DialogsContainer","lazy","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","easeOut","enteringScreen","menuButton","marginRight","hide","flexShrink","drawerPaper","drawerHeader","mixins","toolbar","flexGrow","contentShift","PersistentDrawerLeft","useTheme","setOpen","CssBaseline","AppBar","position","clsx","Toolbar","edge","Badge","badgeContent","Drawer","anchor","paper","direction","Divider","List","Typography","paragraph","path","fallback","exact","App","initializeApp","setInterval","AppContainer","MainApp","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.e56eef52.chunk.js","sourcesContent":["import {dialogAPI} from '../api/api';\nimport exp from 'constants';\n\nconst SEND_MESSAGE_SUCCESS = 'network/dialog-reducer/SEND_MESSAGE'\nconst GET_DIALOGS_SUCCESS = 'network/dialog-reducer/GET_DIALOGS_SUCCESS'\nconst PUT_UP_DIALOG_SUCCESS = 'network/dialog-reducer/PUT_UP_DIALOG'\nconst GET_MESSAGE_SUCCESS = 'network/dialog-reducer/GET_MESSAGE_SUCCESS'\nconst SET_CURRENT_DIALOG_SUCCESS = 'network/dialog-reducer/SET_CURRENT_DIALOG'\nconst SET_NEW_MESSAGES_COUNT_SUCCESS = 'network/dialog-reducer/SET_NEW_MESSAGES_COUNT_SUCCESS'\nconst SET_HAS_NEW_MESSAGES_SUCCESS = 'network/dialog-reducer/SET_HAS_NEW_MESSAGES_SUCCESS'\nconst SET_NEED_REFRESH_SUCCESS = 'network/dialog-reducer/SET_NEED_REFRESH_SUCCESS'\nconst SET_FETCHING_SUCCESS = 'network/dialog-reducer/SET_FETCHING_SUCCESS'\n\n/*\ntype DialogType = {\n    id: number\n    name: string\n}\n*/\n\n/*type MessageType = {\n    id: number\n    message: string\n}*/\n\nlet initialState = {\n    messages: [],\n    dialogs: [],\n    selectedDialogId: null,\n    newMessagesCount: 0,\n    needRefresh: false,\n    currentDialogMessagesCount: 0,\n    fetching: true\n};\n\n/*export type initialStateType = typeof initialState*/\nconst update = (state: any, action: any) => ({...state, ...action.payload})\n\nconst dialogsReducer = (state = initialState, action: any) => {\n    switch (action.type) {\n        case GET_DIALOGS_SUCCESS:\n        case SET_CURRENT_DIALOG_SUCCESS:\n        case GET_MESSAGE_SUCCESS:\n            return {...state, ...action.payload}\n        case SEND_MESSAGE_SUCCESS: {\n            return {...state, messages: [...state.messages, action.message]}\n        }\n        case SET_NEW_MESSAGES_COUNT_SUCCESS:\n            return {...state, newMessagesCount: action.count}\n        case SET_NEED_REFRESH_SUCCESS:\n            return {...state, needRefresh: action.needRefresh}\n        case SET_HAS_NEW_MESSAGES_SUCCESS:\n            return {\n                ...state,\n                dialogs: state.dialogs.map(d => {\n                    //@ts-ignore\n                    if (d.id == action.userId) {\n                        //@ts-ignore\n                        return {...d, hasNewMessages: action.hasNewMessages}\n                    } else return d\n                })\n            }\n\n        case PUT_UP_DIALOG_SUCCESS: {\n            return {\n                // @ts-ignore\n                ...state, dialogs: [state.dialogs.find(d => d.id == action.userId),\n                    // @ts-ignore\n                    ...state.dialogs.filter(d => d.id != action.userId)]\n            }\n        }\n\n        case SET_FETCHING_SUCCESS: {\n            return {...state, fetching: !state.fetching}\n        }\n\n        default:\n            return state;\n    }\n};\n\ntype SendMessageCreatorActionType = {\n    type: typeof SEND_MESSAGE_SUCCESS\n    newMessageBody: string\n}\n\nexport const getDialogsSuccess = (dialogs: any) => ({type: GET_DIALOGS_SUCCESS, payload: {dialogs}})\nexport const putUpDialogSuccess = (userId: any) => ({type: PUT_UP_DIALOG_SUCCESS, userId})\nexport const getMessagesSuccess = (messages: any, totalCount: any)=> ({type: GET_MESSAGE_SUCCESS, payload: {messages, currentDialogMessagesCount: totalCount}})\nexport const setCurrentDialogSuccess = (selectedDialogId: any) => ({type: SET_CURRENT_DIALOG_SUCCESS,  payload: {selectedDialogId}})\nexport const sendMessageSuccess = (message: any) => ({type: SEND_MESSAGE_SUCCESS, message})\nexport const setNewMessagesCountSuccess = (count: any)=>({type: SET_NEW_MESSAGES_COUNT_SUCCESS, count})\nexport const setHasNewMessagesSuccess = (userId: any,hasNewMessages: boolean )=>({type: SET_HAS_NEW_MESSAGES_SUCCESS, userId,hasNewMessages})\nexport const setNeedRefreshSuccess = (needRefresh: any)=>({type: SET_NEED_REFRESH_SUCCESS, needRefresh})\nexport const setFetchingSuccess = () => ({type: SET_FETCHING_SUCCESS})\n\nexport const getDialogs = () => async (dispatch: any) => {\n    // @ts-ignore\n    let dialogs = await dialogAPI.getDialog()\n    dispatch(getDialogsSuccess(dialogs))\n}\n\nexport const getMessages = (userId: any) => async (dispatch: any) => {\n    // @ts-ignore\n    let result = await dialogAPI.getMessage(userId)\n    // @ts-ignore\n    if ( result.messages.some(m => !m.viewed)) {\n        dispatch(setNeedRefreshSuccess(true))\n    }\n    dispatch(getMessagesSuccess(result.messages, result.totalCount))\n    dispatch(setHasNewMessagesSuccess(userId, false))\n}\n\n\nexport const sendMessage = (userId: any, body: any) => async (dispatch: any) => {\n    // @ts-ignore\n    let res = await dialogAPI.sendMessage(userId, body)\n    dispatch(sendMessageSuccess(res.data.message))\n    dispatch(putUpDialogSuccess(userId))\n}\n\n\nexport const startDialog = (userId: any) => async (dispatch: any, getState: any) => {\n    await dialogAPI.startDialog(userId)\n    // @ts-ignore\n    let dialog = getState().dialogsPage.dialogs.find(d => d.id == userId)\n    if (dialog) {\n        dispatch(putUpDialogSuccess(userId))\n    } else {\n        dispatch(getDialogs())\n    }\n}\n\nexport const init = (userId: any) => async (dispatch: any) => {\n    if (!!userId) {\n        dispatch(setFetchingSuccess())\n        dispatch(getMessages(userId))\n        dispatch(setCurrentDialogSuccess(userId))\n        await dispatch(startDialog(userId))\n        dispatch(setFetchingSuccess())\n        dispatch(getDialogs())\n    } else {\n        dispatch(getDialogs())\n        dispatch(setFetchingSuccess())\n    }\n}\n\nexport const updateDialog = (userId: any) => (dispatch: any) => {\n    if (!!userId) {\n        dispatch(getMessages(userId))\n        dispatch(setCurrentDialogSuccess(userId))\n    } else {  dispatch(setFetchingSuccess())\n        dispatch(setCurrentDialogSuccess(null))\n    }\n}\n\nexport const getNewMessagesCount = () => async (dispatch: any, getSate: any) => {\n    let state = getSate()\n    let count = await dialogAPI.getNewMessagesCount()\n    if (state.newMessagesCount !== count || state.needRefresh) {\n        dispatch(setNeedRefreshSuccess(false))\n        dispatch(setNewMessagesCountSuccess(count))\n        dispatch(getDialogs())\n        if (state.selectedDialogId != null) {\n            dispatch(getMessages(state.selectedDialogId))\n        }\n    }\n}\n\nexport default dialogsReducer;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Avatar from '@material-ui/core/Avatar';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        '& > *': {\n            margin: theme.spacing(1),\n        },\n    },\n    small: {\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n    },\n    large: {\n        width: theme.spacing(7),\n        height: theme.spacing(7),\n    },\n}));\n\nexport default function ImageAvatars(props) {\n    const classes = useStyles();\n    return (\n        <div className={classes.root}>\n            <Avatar alt=\"Remy Sharp\" src={props.avatar} className={classes.large} />\n        </div>\n    );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginBlock\":\"Header_loginBlock__XC6JP\",\"login\":\"Header_login__3-Ifm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProfileInfoContainer\":\"ProfileInfo_ProfileInfoContainer__2hkQQ\",\"aboutMe\":\"ProfileInfo_aboutMe__UReHi\",\"allInformation\":\"ProfileInfo_allInformation__3n3gi\",\"generalInformation\":\"ProfileInfo_generalInformation__3106R\",\"contactInformation\":\"ProfileInfo_contactInformation__3Y8wV\",\"capContainer\":\"ProfileInfo_capContainer__1ypSL\",\"cap\":\"ProfileInfo_cap__2VSQU\",\"editButton\":\"ProfileInfo_editButton__1gk7U\",\"content\":\"ProfileInfo_content__2BPfq\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__1PEGl\",\"mainPhoto\":\"ProfileInfo_mainPhoto__2wAn4\",\"contact\":\"ProfileInfo_contact__tdyy3\",\"button\":\"ProfileInfo_button__1PCJw\"};","module.exports = \"data:image/jpeg;base64,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\"","import * as axios from 'axios';\n\n\nconst instance = axios.create(\n    {\n        baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n        withCredentials: true,\n        headers: {'API-KEY': '4074ffdc-4391-4792-8943-460026aeb2c1'}\n    }\n);\n\n\nexport const userAPI = {\n    getUsers(currentPage = 1, pageSize = 10) {\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`,\n        ).then(response => {\n            return response.data\n        })\n    },\n    follow(userId) {\n        return instance.post(`follow/${userId}`\n            , {},)\n\n    },\n    unfollow(userId) {\n        return instance.delete(`follow/${userId}`)\n    },\n};\n\nexport const profileAPI = {\n    getProfile(userId) {\n        return instance.get(`profile/` + userId)\n    },\n    getStatus(userId) {\n        return instance.get('profile/status/' + userId)\n    },\n    updateStatus(status) {\n        return instance.put(`profile/status/`, {status: status})\n    },\n    savePhoto(photoFile) {\n        let formData = new FormData();\n        formData.append('image', photoFile)\n        return instance.put(`profile/photo/`, formData, {headers: {'Content-Type': 'multipart/form-data'}})\n    },\n    saveProfile(profile) {\n        return instance.put(`profile`, profile)\n    }\n};\n\nexport const authAPI = {\n    me() {\n        return instance.get(`auth/me`, {withCredentials: true})\n    },\n    login(email, password, rememberMe = false, captcha = null) {\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha})\n    },\n\n    logout() {\n        return instance.delete(`auth/login`)\n    },\n\n};\n\nexport const securityAPI = {\n    getCaptchaUrl() {\n        return instance.get(`security/get-captcha-url`)\n    },\n};\n\nexport const dialogAPI = {\n    getDialog() {\n        return instance.get('dialogs').then(res => res.data)\n    },\n    startDialog(userId) {\n      return instance.put(`dialogs/${userId}`).then(res => res.data)\n    },\n    getMessage(userId) {\n        return instance.get(`dialogs/${userId}/messages`).then(res =>({\n            messages: res.data.items,\n            totalCount: res.data.totalCount\n        }))\n    },\n    sendMessage(userId,body){\n        return instance.post(`dialogs/${userId}/messages`, {body}).then(res=>res.data)\n    },\n    getNewMessagesCount() {\n        return instance.get(`dialogs/messages/new/count`).then(res => res.data)\n    },\n    getMessagesNewerThen(userId, data){\n        return instance.get(`dialogs/${userId}/messages/newerThen?=${data}`).then(res => res.data)\n    },\n    deleteMessage(messageId){\n      return instance.delete(`dialogs/messages/${messageId}`).then(res => res.data )\n    },\n\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1tQYF\",\"test\":\"Post_test__1rBIM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__1e3Ds\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1oqkP\",\"item\":\"Navbar_item__2FNX_\",\"active\":\"Navbar_active__3Jc4K\"};","import {authAPI, securityAPI} from \"../api/api\";\nimport {stopSubmit} from \"redux-form\"\n\nconst SET_USER_DATA = 'network/auth/SET_USER_DATA';\nconst GET_CAPTCHA_URL = 'network/auth/GET_CAPTCHA_URL';\n\nlet initialState = {\n    \"id\": null as  number | null,\n    \"login\": null as string | null,\n    \"email\": null as string | null,\n    //залогинен да либо нет\n    isAuth: false as boolean,\n    isFetching: false as boolean,\n    captchaUrl: null as string | null\n};\n\nexport type InitialStateType = typeof initialState\n\nconst authReducer = (state = initialState, action: any):InitialStateType => {\n    switch (action.type) {\n        case SET_USER_DATA:\n        case GET_CAPTCHA_URL:\n            return {\n                ...state,\n               ...action.payload};\n        default :\n            return state;\n    }\n};\n\ntype SetAuthUserDataActionPayloadType = {\n    \"id\": number | null\n    \"login\": string | null\n    \"email\": string | null\n    isAuth: boolean\n}\n\ntype SetAuthUserDataActionType = {\n    type: typeof SET_USER_DATA\n    payload: SetAuthUserDataActionPayloadType\n}\n\nexport const setAuthUserData = (id: number | null, email: string | null, login: string | null, isAuth: boolean): SetAuthUserDataActionType => (\n    {\n        type: SET_USER_DATA, payload: {id, email, login, isAuth}\n    }\n);\n\nexport const getCaptchaUrlSuccess = (captchaUrl: string | null) => (\n    {\n        type: GET_CAPTCHA_URL, payload: {captchaUrl}\n    }\n);\n\nexport const getAuthUserData = () => async (dispatch: any) => {\n    let response = await authAPI.me();\n    if (response.data.resultCode === 0) {\n        let {id, email, login} = response.data.data;\n        dispatch(setAuthUserData(id, email, login, true))\n    }\n};\n\nexport const Logout = () => async (dispatch: any) => {\n    let response = await authAPI.logout();\n    if (response.data.resultCode === 0) {\n        dispatch(setAuthUserData(null, null, null, false))\n    }\n};\n\nexport const getLogin = (email: string | null, password: string, rememberMe: boolean, captcha: string) => async (dispatch: any) => {\n    let response = await authAPI.login(email, password, rememberMe, captcha);\n    if (response.data.resultCode === 0) {\n        dispatch(getAuthUserData())\n    } else {\n        if (response.data.resultCode === 10) {\n            dispatch(getCaptchaUrl())\n        }\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\n        dispatch(stopSubmit(\"login\", {_error: message}))\n    }\n}\n\nexport const getCaptchaUrl = () => async (dispatch: any) => {\n    const response = await securityAPI.getCaptchaUrl();\n    const captchaUrl = response.data.url;\n    dispatch(getCaptchaUrlSuccess(captchaUrl))\n};\n\nexport default authReducer;","import {getAuthUserData} from \"./auth-reducer\";\n\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\n\nexport type initialState = {\n    initialized: boolean\n}\n\nlet initialState: initialState = {\n    initialized: false\n};\n\nexport const appReducer = (state = initialState, action: initializedSuccessActionType) => {\n\n    switch (action.type) {\n\n        case INITIALIZED_SUCCESS:\n            return {\n                ...state,\n                initialized: true\n            }\n\n        default:\n            return state;\n    }\n};\n\ntype initializedSuccessActionType = {\n    type: typeof INITIALIZED_SUCCESS\n}\n\nexport const initializedSuccess = (): initializedSuccessActionType => (\n    {\n        type: INITIALIZED_SUCCESS,\n    }\n);\n\nexport const initializeApp = () => (dispatch: any) => {\n    let promise = dispatch(getAuthUserData())\n    promise.then(() => dispatch(initializedSuccess()))\n};\n\n","import React from 'react';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n    backdrop: {\n        zIndex: theme.zIndex.drawer + 1,\n        color: '#fff',\n    },\n}));\n\nexport default function SimpleBackdrop() {\n    const classes = useStyles();\n    const [open, setOpen] = React.useState(true);\n    const handleClose = () => {\n        setOpen(false);\n    };\n    const handleToggle = () => {\n        setOpen(!open);\n    };\n\n    return (\n        <div>\n            <Backdrop className={classes.backdrop} open={open}>\n                <CircularProgress color=\"inherit\" />\n            </Backdrop>\n        </div>\n    );\n}","import React from \"react\";\nimport SimpleBackdrop from './SimpleBackdrop';\n\nlet Preloader = (props) => {\n    return (\n        <div>\n            <SimpleBackdrop/>\n        </div>\n    )\n};\n\nexport default Preloader;","import {profileAPI} from \"../api/api\";\nimport {stopSubmit} from \"redux-form\"\nimport {PhotosType, PostType, ProfileType} from '../types/types';\n\nconst ADD_POST = 'network/profile-reducer/ADD-POST';\nconst SET_USER_PROFILE = 'network/profile-reducer/SET_USER_PROFILE';\nconst SET_STATUS = 'network/profile-reducer/SET_STATUS';\nconst DELETE_POST = 'network/profile-reducer/DELETE_POST';\nconst SAVE_PHOTO = 'network/profile-reducer/SAVE_PHOTO';\n\n\n\nlet initialState = {\n    posts: [\n        {\n            id: 1,\n            message: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt \" +\n                     \"ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco \" +\n                     \"laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in \" +\n                     \"voluptate velit esse cillum dolore eu fugiat nulla pariatur.?\",\n            likesCount: 12\n        },\n    ] as Array<PostType>,\n    profile: null as ProfileType | null,\n    status: '' as string,\n    newPostText: ''\n};\n\nexport type InitialStateType = typeof initialState\n\nconst profileReducer = (state = initialState, action: any):InitialStateType => {\n    switch (action.type) {\n        case ADD_POST:\n            let newPost = {\n                id: 5,\n                message: action.newPostText,\n                likesCount: 0\n            };\n            //делаем копию state\n            return {...state, posts: [...state.posts, newPost]}\n        //т.к. мы сделали копию поверхностную state делаем копию массива\n\n        case SET_USER_PROFILE:\n            return {...state, profile: action.profile}\n\n        case SET_STATUS:\n            return {...state, status: action.status}\n\n        case DELETE_POST:\n            return {\n                ...state, posts: state.posts.filter(p => p.id != action.postId)\n            }\n\n        case SAVE_PHOTO:\n            return {\n                ...state, profile: {...state.profile, photos: action.photos} as ProfileType }\n\n        default :\n            return state;\n    }\n};\n\ntype AddPostActionCreatorActionType = {\n    type: typeof ADD_POST\n    newPostText: string\n}\nexport const addPostActionCreator = (newPostText: string): AddPostActionCreatorActionType => ({type: ADD_POST, newPostText});\ntype SetUserProfileActionType = {\n    type: typeof SET_USER_PROFILE\n    profile: ProfileType\n}\nexport const setUserProfile = (profile:ProfileType):SetUserProfileActionType => ({type: SET_USER_PROFILE, profile});\ntype SetStatusActionType = {type: typeof SET_STATUS, status: string}\nexport const setStatus = (status: string):SetStatusActionType => ({type: SET_STATUS, status});\ntype DeletePostActionType = { type: typeof DELETE_POST, postId: number }\nexport const deletePost = (postId: number): DeletePostActionType => ({type: DELETE_POST, postId});\ntype SavePhotoSuccessActionType = {type: typeof SAVE_PHOTO, photos: PhotosType }\nexport const savePhotoSuccess = (photos: PhotosType): SavePhotoSuccessActionType => ({type: SAVE_PHOTO, photos});\n\nexport const getUserProfile = (userId: number) => async (dispatch: any) => {\n    let response = await profileAPI.getProfile(userId);\n    dispatch(setUserProfile(response.data));\n};\n\nexport const getStatus = (userId: number) => async (dispatch: any) => {\n    let response = await profileAPI.getStatus(userId)\n    dispatch(setStatus(response.data));\n}\n\nexport const updateStatus = (status: string) => async (dispatch: any) => {\n    let response = await profileAPI.updateStatus(status)\n    if (response.data.resultCode === 0) {\n        dispatch(setStatus(status))\n    }\n}\n\nexport const savePhoto = (file: any) => async (dispatch: any) => {\n    let response = await profileAPI.savePhoto(file)\n    if (response.data.resultCode === 0) {\n        dispatch(savePhotoSuccess(response.data.data.photos))\n    }\n}\n\nexport const saveProfile = (profile: ProfileType) => async (dispatch: any, getState: any) => {\n    const userId =  getState().auth.id;\n    let response = await profileAPI.saveProfile(profile)\n    if (response.data.resultCode === 0) {\n        dispatch(getUserProfile(userId))\n    }else{\n       /* let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";*/\n        dispatch(stopSubmit(\"redux-form\", {_error: response.data.messages[0]}))\n    }\n}\n\nexport default profileReducer;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\n    return items.map(u => {\n        if (u[objPropName] === itemId) {\n            return {...u, ...newObjProps}\n        } else\n            return u\n    })\n};","import {userAPI} from \"../api/api\";\nimport {updateObjectInArray} from \"../components/utils/object-helpers\";\nimport User from '../components/Users/User';\nimport {PhotosType, UserType} from '../types/types';\n\n\nconst FOLLOW = 'FOLLOW';\nconst UNFOLLOW = 'UNFOLLOW';\nconst SET_USERS = 'SET_USERS';\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\nconst TOTAL_USERS_COUNT = 'TOTAL_USERS_COUNT';\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\n\n\nlet initialState = {\n    users: [] as Array<UserType>,\n    pageSize: 10,\n    totalUsersCount: 0,\n    currentPage: 1,\n    isFetching: false,\n    followingInProgress: [] as Array<number> //array of users id\n};\n\ntype  InitialStateType = typeof initialState\n\nconst usersReducer = (state = initialState, action:any) => {\n    switch (action.type) {\n        case FOLLOW:\n            return {\n                ...state,\n               users: updateObjectInArray(state.users,action.userId,'id',{followed: true})\n            };\n\n        case UNFOLLOW:\n            return {\n                ...state,\n                users: updateObjectInArray(state.users,action.userId,'id',{followed: false})\n            };\n\n        case SET_USERS: {\n            return {...state, users: action.users}\n        }\n\n        case SET_CURRENT_PAGE: {\n            return {...state, currentPage: action.currentPage}\n        }\n\n        case TOTAL_USERS_COUNT: {\n            return {...state, totalUsersCount: action.totalUsersCount}\n        }\n\n        case TOGGLE_IS_FETCHING: {\n            return {...state, isFetching: action.isFetching}\n        }\n\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\n            return {\n                ...state\n                ,\n                followingInProgress: action.isFetching ?\n                    [state.followingInProgress, action.userId] : state.followingInProgress.filter(u => u != action.userId)\n            }\n        }\n\n        default :\n            return state;\n    }\n};\ntype FollowSuccessActionType = {\n    type: typeof FOLLOW\n    userId: number\n}\nexport const followSuccess = (userId: number):FollowSuccessActionType => ({type: FOLLOW, userId});\ntype UnfollowSuccessActionType = {\n    type: typeof UNFOLLOW\n    userId: number\n}\nexport const unfollowSuccess = (userId: number): UnfollowSuccessActionType => ({type: UNFOLLOW, userId});\ntype SetUsersActionType = {\n    type: typeof SET_USERS\n    users: Array<UserType>\n}\nexport const setUsers = (users: Array<UserType>):SetUsersActionType => ({type: SET_USERS, users});\ntype SetCurrentPageActionType = {\n    type: typeof SET_CURRENT_PAGE\n    currentPage: number\n}\nexport const setCurrentPage = (currentPage: number): SetCurrentPageActionType => ({type: SET_CURRENT_PAGE, currentPage});\ntype SetUsersTotalCountActionType = {\n    type: typeof TOTAL_USERS_COUNT\n    totalUsersCount: number\n}\nexport const setUsersTotalCount = (totalUsersCount: number): SetUsersTotalCountActionType => ({type: TOTAL_USERS_COUNT, totalUsersCount});\ntype ToggleIsFetchingActionType = {\n    type: typeof TOGGLE_IS_FETCHING\n    isFetching: boolean\n}\nexport const toggleIsFetching = (isFetching: boolean): ToggleIsFetchingActionType => ({type: TOGGLE_IS_FETCHING, isFetching});\ntype toggleFollowingProgress = {\n    type: typeof TOGGLE_IS_FOLLOWING_PROGRESS\n    isFetching: boolean\n    userId: number\n}\nexport const toggleFollowingProgress = (isFetching: boolean, userId: number):toggleFollowingProgress => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId});\n\nexport const requestUsers = (page: number, pageSize: number) => {\n    return async (dispatch: any) => {\n        dispatch(toggleIsFetching(true));\n        dispatch(setCurrentPage(page))\n      let data = await userAPI.getUsers(page, pageSize)\n            dispatch(toggleIsFetching(false));\n            dispatch(setUsers(data.items));\n            dispatch(setUsersTotalCount(data.totalCount))\n    };\n};\n\nconst followUnfollowFlow = async (dispatch: any, userId: number, apiMethod: any, actionCreator: any) => {\n    dispatch(toggleFollowingProgress(true, userId));\n    let response = await apiMethod(userId)\n    if (response.data.resultCode === 0) {\n        dispatch(actionCreator(userId))\n    }\n    dispatch(toggleFollowingProgress(false, userId));\n}\n\nexport const follow = (userId: number) => {\n    debugger\n    return async (dispatch: any) => {\n        followUnfollowFlow(dispatch, userId, userAPI.follow.bind(userAPI), followSuccess)\n    }\n}\n\nexport const unfollow = (userId: number) => {\n    debugger\n    return async (dispatch: any) => {\n        followUnfollowFlow(dispatch, userId, userAPI.unfollow.bind(userAPI), unfollowSuccess)\n    }\n}\n\nexport default usersReducer;","import {applyMiddleware, combineReducers, createStore, compose} from \"redux\";\nimport profileReducer from \"./profile-reducer\";\nimport dialogsReducer from \"./dialogs-reducer\";\nimport usersReducer from \"./users-reducer\";\nimport authReducer from \"./auth-reducer\";\nimport thunkMiddleware from \"redux-thunk\"\nimport { reducer as formReducer } from 'redux-form'\nimport {appReducer} from \"./app-reducer\";\nimport logger from 'redux-logger'\n\nlet reducers = combineReducers({\n    profilePage: profileReducer,\n    dialogsPage:  dialogsReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    app: appReducer,\n    form: formReducer\n});\n\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware,logger));\n/*const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(\n    const store = createStore(reducers, compose(\n    applyMiddleware(...middleware)\n));*/\n\nwindow.store = store;\nexport default store;","import React from 'react';\nimport s from './Navbar.module.css';\nimport {NavLink} from \"react-router-dom\";\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MailOutlineIcon from '@material-ui/icons/MailOutline';\nimport PersonIcon from '@material-ui/icons/Person';\nimport AnnouncementIcon from '@material-ui/icons/Announcement';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport MusicNoteIcon from '@material-ui/icons/MusicNote';\nimport PeopleIcon from '@material-ui/icons/People';\n\nconst Navbar = () => {\n    return (\n        <nav className={s.nav}>\n            <div className={s.item}>\n                <NavLink to=\"/profile\" activeClassName={s.active}>\n                    <ListItem button>\n                    <ListItemIcon><PersonIcon/></ListItemIcon>\n                    <ListItemText primary={\"Profile\"}/>\n                    </ListItem>\n                </NavLink>\n            </div>\n            <div  className={s.item}>\n                <NavLink to= \"/dialogs\" activeClassName={s.active}>\n                    <ListItem button>\n                        <ListItemIcon><MailOutlineIcon/></ListItemIcon>\n                        <ListItemText primary={\"Messages\"}/>\n                    </ListItem>\n                </NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to = \"/news\" activeClassName={s.active}>\n                    <ListItem button>\n                        <ListItemIcon><AnnouncementIcon/></ListItemIcon>\n                        <ListItemText primary={\"News\"}/>\n                    </ListItem>\n                </NavLink>\n            </div>\n            <div  className={s.item}>\n                <NavLink to = \"/music\" activeClassName={s.active}>\n                    <ListItem button>\n                        <ListItemIcon><MusicNoteIcon/></ListItemIcon>\n                        <ListItemText primary={\"Music\"}/>\n                    </ListItem>\n                </NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to = \"/settings\" activeClassName={s.active}>\n                    <ListItem button>\n                        <ListItemIcon><SettingsIcon/></ListItemIcon>\n                        <ListItemText primary={\"Settings\"}/>\n                    </ListItem>\n                </NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to = \"/users\" activeClassName={s.active}>\n                    <ListItem button>\n                        <ListItemIcon><PeopleIcon/></ListItemIcon>\n                        <ListItemText primary={\"Users\"}/>\n                    </ListItem>\n                </NavLink>\n            </div>\n        </nav>\n    );\n}\n\nexport default Navbar;\n","import React from 'react';\nimport s from './Header.module.css'\nimport {NavLink} from \"react-router-dom\";\nimport Button from '@material-ui/core/Button';\n\nconst Header = (props) => {\n    return (\n        <header className={s.header}>\n\n            <div className={s.loginBlock}>\n                {props.isAuth\n                    ? <div> <Button variant=\"text\" color=\"inherit\" onClick={props.Logout}>Log out</Button> </div>\n                    : <div > <NavLink to={'/login'} className={s.login}>Login</NavLink></div>  }\n            </div>\n        </header>\n    );\n}\n\nexport default Header;\n","import React from 'react';\nimport Header from \"./Header\";\n\nimport {connect} from \"react-redux\";\nimport { Logout} from \"../../redux/auth-reducer\";\n;\n\n\nclass HeaderContainer extends React.Component {\n\n    render() {\n        return <Header {...this.props}/>\n    }\n}\n\nconst mapStateToProps = (state) => (\n    {\n        isAuth: state.auth.isAuth,\n        login: state.auth.login\n    });\nexport default connect(mapStateToProps, {Logout})(HeaderContainer);\n","import React, {useEffect, useState} from 'react';\n\n\nconst ProfileStatusWithHooks =(props)=> {\n\n    let [editMode, setEditMode] = useState(false);\n    let [status, setStatus] = useState(props.status);\n\n    useEffect(()=>{\n        setStatus(props.status)\n    },[props.status]);\n\n\n    let activateMode = () => {\n        setEditMode(true)\n    };\n\n  let  deactivateMode = () => {\n       setEditMode(false)\n       props.updateStatus(status)\n    };\n\n   let  onStatusChange = (e) => {\n        setStatus(e.currentTarget.value);\n    };\n\n    return (\n        <div style={{\n            display: 'flex', flexDirection: 'row',\n            justifyContent: 'center', width: '100%', alignItems: 'center'\n        }}>\n            <div>\n                {!editMode &&\n                <div style={{ display: 'flex', justifyContent: 'center', width: '100%', margin: '5px' }}>\n                    <span  onDoubleClick={activateMode} >{ <span><h2> {props.status} </h2></span> || '----------'}</span>\n                </div>\n                }\n            </div>\n            <div>\n                {editMode &&\n                <div>\n                    <input  onChange={onStatusChange} autoFocus={true} onBlur={deactivateMode}\n                            value={status}/>\n                </div>\n                }\n            </div>\n        </div>\n    );\n}\n\nexport default ProfileStatusWithHooks;\n","import React from \"react\";\nimport style from './FormsControls.module.css'\nimport {Field} from \"redux-form\";\nimport TextField from '@material-ui/core/TextField';\nimport Input from '@material-ui/core/Input';\n\nexport const FormControl = ({input, meta: {touched, error},children})=>{\n    const hasError = touched && error;\n    return (\n        <div className={style.formControl + \" \" + (hasError? style.error: \"email\") }>\n            <div>{children}</div>\n            {hasError && <span>{error}</span>}\n        </div>\n    )\n};\n\nexport const Textarea = (props)=>{\n    const {input, meta,  ...restProps} = props;\n    return <FormControl{...props}><TextField id=\"outlined-basic\" label=\"Enter yor text\" variant=\"outlined\"  {...input}  {...restProps}/></FormControl>\n};\n\nexport const InputType = (props)=>{\n    const {input, meta,  ...restProps} = props;\n    return <FormControl{...props}><Input {...input}  {...restProps}/></FormControl>\n}\n\nexport const createField = (placeholder, name, component, validate,props={}, text ='') => (\n    <div><Field placeholder={placeholder} name={name} component={component} validate={validate} {...props}/>{text}</div>);","import React from 'react';\nimport {createField, InputType, Textarea} from \"../../common/FormsControl/FormsControls\";\nimport {reduxForm} from \"redux-form\";\nimport s from \"./ProfileInfo.module.css\";\nimport style from \"../../common/FormsControl/FormsControls.module.css\";\nimport SaveIcon from '@material-ui/icons/Save';\n\nconst ProfileDataForm = ({handleSubmit, profile,error})=>{\n    return (<div className={s.aboutMe}>\n        <div>\n            <form onSubmit={handleSubmit}>\n                {error && <div className={style.formSummaryError}>{error}</div>}\n                <div className={s.descriptionBlock}>\n                    <b> FullName :</b> {createField(\"Full Name\", \"fullName\", InputType, [])}\n                </div>\n                <div className={s.descriptionBlock}><b>Looking for job :</b>\n                    {createField(\"\", \"lookingForAJob\", InputType, [], {type: \"checkbox\"})}  </div>\n                <div>\n                  <div className={s.descriptionBlock}><b>My professional skills :</b></div>\n                    {createField(\"My professional skills\", \"lookingForAJobDescription\", Textarea, [])}\n                </div>\n                <div>\n                 <div className={s.descriptionBlock}> <b>About me :</b></div>\n                    {createField(\"About me\", \"aboutMe\", Textarea, [])}\n                </div>\n                <div className={s.descriptionBlock}>\n                    <b> Contacts : </b>{Object.keys(profile.contacts)\n                    .map(key => {\n                        return <div key={key} className={s.contact}><b>{key}</b>\n                            {createField(key, \"contacts.\" + key, InputType, [])}</div>\n                    })}\n                    <div className={s.descriptionBlock}>\n                        <button className={s.button}><SaveIcon color={'primary'}/></button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>)\n};\n\nconst ProfileDataReduxForm = reduxForm({form: \"redux-form\"})(ProfileDataForm);\n\nexport default ProfileDataReduxForm;\n\n","import React, {useState} from 'react';\nimport s from \"./ProfileInfo.module.css\";\nimport Preloader from \"../../common/Preloader/Preloader\";\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\nimport ProfileDataReduxForm from \"./ProfileDataForm\";\nimport Fab from '@material-ui/core/Fab';\nimport EditIcon from '@material-ui/icons/Edit';\nimport Paper from '@material-ui/core/Paper';\nimport Container from '@material-ui/core/Container';\nimport {makeStyles} from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\nimport FacebookIcon from '@material-ui/icons/Facebook';\nimport TwitterIcon from '@material-ui/icons/Twitter';\nimport WebIcon from '@material-ui/icons/Web';\nimport InstagramIcon from '@material-ui/icons/Instagram';\nimport YouTubeIcon from '@material-ui/icons/YouTube';\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport avatar from './../../../assets/images/ava.jpg'\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& > *': {\n            margin: theme.spacing(1),\n        },\n    },\n    input: {\n        display: 'none',\n    },\n}));\n\nconst ProfileInfo = ({profile,status,updateStatus, isOwner,savePhoto,saveProfile}) => {\n    const classes = useStyles();\n    let [editMode, setEditMode] = useState(false);\n\n    if (!profile) {\n        return <Preloader/>\n    }\n\n    const onMainPhotoSelected = (e) => {\n        if (e.target.files.length) {\n            savePhoto(e.target.files[0])\n        }\n    };\n    const onSubmit = (formData) => {\n        saveProfile(formData)\n        setEditMode(false)\n    };\n\n    return (\n                <div>\n                    <div className={s.content}>\n                    </div>\n                    <div className={s.descriptionBlock}>\n                        <Container maxWidth='md' style={{padding: '10px'}}>\n                            <Paper style={{\n                                display: 'flex',\n                                justifyContent: 'center',\n                                alignItems: 'center',\n                                backgroundColor: '#eaf1f6'\n                            }}>\n                                <img src={profile.photos.large || avatar} className={s.mainPhoto}/>\n                                {isOwner && <div>\n                                    <div className={classes.root}>\n                                        <input accept=\"image/*\" className={classes.input} id=\"icon-button-file\" type=\"file\" onChange={onMainPhotoSelected}/>\n                                        <label htmlFor=\"icon-button-file\">\n                                            <IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\">\n                                                <PhotoCamera />\n                                            </IconButton>\n                                        </label>\n                                    </div>\n\n                                </div>}\n                            </Paper>\n                        </Container>\n                       <Container maxWidth='md' style={{padding: '10px'}}>\n                           <Paper style={{backgroundColor: '#eaf1f6',   color: '#1e2464'}}>\n                               <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\n                           </Paper>\n                       </Container>\n                        <Container maxWidth= 'md' style={{padding: '10px'}}>\n                            <Paper style={{padding: '5px',  display: 'flex',backgroundColor: '#eaf1f6' }}>\n                                {editMode\n                                    ? <ProfileDataReduxForm profile={profile} onSubmit={onSubmit} initialValues={profile}/>\n                                    : <ProfileData profile={profile} isOwner={isOwner} goToEditMode={() => setEditMode(true)}/>}\n                            </Paper>\n                        </Container>\n                    </div>\n                </div>\n        );\n    };\n\n\nconst Contact = ({contactTitle, contactValue}) => {\n    if (contactValue !== '') {\n        if (contactTitle === 'facebook') {\n            contactTitle = <FacebookIcon color={'primary'}/>\n        } else if (contactTitle === 'twitter') {\n            contactTitle = <TwitterIcon color={'primary'}/>\n        } else if (contactTitle === 'website') {\n            contactTitle = <WebIcon color={'primary'}/>\n        } else if (contactTitle === 'instagram') {\n            contactTitle = <InstagramIcon color={'primary'}/>\n        } else if (contactTitle === 'youtube') {\n            contactTitle = <YouTubeIcon color={'primary'}/>\n        } else if (contactTitle === 'github') {\n            contactTitle = <GitHubIcon color={'primary'}/>\n        } else if (contactTitle === 'vk') {\n            contactTitle = 'vk'\n        } else if (contactTitle === 'mainLink') {\n            contactValue = 'mainLink'\n        }\n    }\n\n    return <div className={s.contact}>\n        <a href = {`${contactValue}`} style={{textDecoration: 'none'}}>\n            {contactValue !== '' && contactTitle}\n        </a>\n    </div>\n};\n\nconst ProfileData = ({profile, isOwner, goToEditMode}) => {\n    return (<div className={s.ProfileInfoContainer}>\n        <div className={s.aboutMe}>\n            <h2>About me</h2>\n        </div>\n        <div className={s.allInformation}>\n            <div className={s.generalInformation}>\n                <div className={s.capContainer}>\n                    <div className={s.cap}>\n                        <b>General Information </b>\n                    </div>\n                </div>\n\n                <div>\n                    <b> FullName</b> {profile.fullName}</div>\n                <div><b>About me </b>\n                    {profile.aboutMe}</div>\n                <div><b>Looking for job</b> {profile.lookingForAJob ? \"Yes\" : \"No\"}</div>\n                {profile.lookingForAJob && <div>\n                    <b>Looking for job a description </b> {profile.lookingForAJobDescription}</div>}\n            </div>\n            <div className={s.contactInformation}>\n                <div>\n                    <div className={s.capContainer}>\n                        <div className={s.cap}><b>Contacts </b>\n                        </div>\n                    </div>\n\n                    {Object.keys(profile.contacts)\n                        .map(key => <Contact key={key} contactTitle={key} contactValue={profile.contacts[key]}/>)}\n                </div>\n            </div>\n        </div>\n        <div className={s.editButton}>\n           <span>\n            {isOwner &&\n            <div><Fab color=\"primary\" aria-label=\"edit\" onClick={goToEditMode} size=\"small\">\n                <EditIcon/>\n            </Fab></div>}\n        </span>\n        </div>\n    </div>)\n};\n\nexport default ProfileInfo;\n","import React from 'react';\nimport s from './Post.module.css'\nimport ImageAvatars from '../../../common/Material_ui/ImageAvatars';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\n\nconst Post = (props) => {\n    return (\n        <div className={s.item}>\n         <ImageAvatars avatar = {props.avatar}/>\n           <div style={{ color: '#1e2464'}}>{props.message}</div>\n            <div>\n            <span >\n                <FavoriteIcon color={'primary'}/>{props.likeCount}</span>\n            </div>\n        </div>\n    );\n};\n\nexport default Post;\n","import React from 'react';\nimport s from './MyPosts.module.css';\nimport Post from \"./Post/Post\";\nimport {Field, reduxForm} from \"redux-form\";\nimport {Textarea} from \"../../common/FormsControl/FormsControls\";\nimport SendIcon from '@material-ui/icons/Send';\n\nconst MyPosts = React.memo (props => {\n\n    let onAddPost = (values) => {\n        props.addPost(values.newPostText)\n    };\n\n    let avatar;\n    { avatar = props.photo?props.photo.photos.small:''}\n\n    let postsElement = props.posts.map(p =>\n        <Post key={p.id} message={p.message} likeCount={p.likesCount} profile={props.profile} avatar={avatar}/>);\n\n    return (\n        <div className={s.postsBlock}>\n            <PostReduxForm onSubmit = {onAddPost}/>\n            <div className={s.posts}>\n                {postsElement}\n            </div>\n        </div>\n    );\n});\n\nconst AddPostForm = (props)=> {\n    return(\n        <form onSubmit={props.handleSubmit} >\n            <div className={s.postContainer}>\n                <div>\n                    <Field component={Textarea} name='newPostText'\n                           placeholder='enter your post'/>\n                </div>\n               <div>\n                    <button className={s.button}><SendIcon color={'primary'}/></button>\n               </div>\n            </div>\n        </form>\n    )\n}\n\nconst PostReduxForm = reduxForm({form: 'ProfileAddNewPostForm'})(AddPostForm);\n\n\nexport default MyPosts;\n","import React from 'react';\nimport {addPostActionCreator} from \"../../../redux/profile-reducer\";\nimport MyPosts from \"./MyPosts\";\nimport {connect} from \"react-redux\";\n\n\nlet mapStateToProps = (state) => {\n    return {\n        posts: state.profilePage.posts,\n        newPostText: state.profilePage.newPostText,\n        photo: state.profilePage.profile\n    }\n};\n\nlet mapDispatchToProps = (dispatch) => {\n    return {\n        addPost: (newPostText) => {\n            dispatch(addPostActionCreator(newPostText));\n        }\n    }\n};\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\nexport default MyPostsContainer;\n","import React from 'react';\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\nimport style from './Profile.module.css'\nimport Paper from '@material-ui/core/Paper';\nimport Container from '@material-ui/core/Container';\n\nconst Profile = (props) => {\n    return (\n        <div>\n            <div className={style.profile}>\n                <div>\n                    <ProfileInfo savePhoto={props.savePhoto}\n                                 isOwner={props.isOwner}\n                                 profile={props.profile}\n                                 status={props.status}\n                                 updateStatus={props.updateStatus}\n                                 saveProfile={props.saveProfile}/>\n                </div>\n                <div>\n                    <Container maxWidth='md' style={{padding: '10px'}}>\n                        <Paper style={{backgroundColor: '#eaf1f6'}}><MyPostsContainer/></Paper>\n                    </Container>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Profile;\n","import React from 'react';\nimport Profile from \"../Profile\";\nimport {connect} from \"react-redux\";\nimport {\n    getStatus,\n    getUserProfile,\n    savePhoto,\n    saveProfile,\n    updateStatus\n} from \"../../../redux/profile-reducer\";\nimport {Redirect, withRouter} from \"react-router-dom\";\nimport {compose} from \"redux\";\n\nclass ProfileContainer extends React.Component {\n\n\n\n    refreshProfile() {\n        let userId = this.props.match.params.userId;\n        if (!userId) {\n            userId = this.props.authorizedUserId;\n            if (!userId) {\n                this.props.history.push('./login')\n            }\n        }\n        this.props.getUserProfile(userId);\n        this.props.getStatus(userId);\n    };\n\n    componentDidMount() {\n        this.refreshProfile()\n        this.props.handleDrawerClose()\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (this.props.match.params.userId != prevProps.match.params.userId)\n            this.refreshProfile()\n    }\n\n    render() {\n        return (\n            <div>\n                <Profile {...this.props} profile={this.props.profile}\n                         isOwner = {!this.props.match.params.userId}\n                         status = {this.props.status} updateStatus = {this.props.updateStatus}\n                         savePhoto = {this.props.savePhoto}\n                />\n\n            </div>\n        );\n    }\n}\n\nlet mapStateToProps = (state) => ({\n    profile: state.profilePage.profile,\n    status: state.profilePage.status,\n    authorizedUserId: state.auth.id,\n    isAuth: state.auth.isAuth\n});\n\nexport default compose(connect(\n    mapStateToProps,\n    {getUserProfile, getStatus, updateStatus, savePhoto, saveProfile}),\n    withRouter)\n(ProfileContainer);\n\n","import React, {useEffect} from 'react';\n\nconst News = (props) => {\n    useEffect(() => props.handleDrawerClose(), [])\n    return (\n        <div >\n           News\n        </div>\n    );\n};\n\nexport default News;\n","import React, {useEffect} from 'react';\n\nconst Music = (props) => {\n    useEffect(() => props.handleDrawerClose(), [])\n    return (\n        <div>\n\n        </div>\n    );\n};\n\nexport default Music;\n","import React from 'react';\nimport styles from \"./users.module.css\";\nimport {NavLink} from \"react-router-dom\";\nimport Button from '@material-ui/core/Button';\nimport style from './users.module.css'\nimport ImageAvatars from '../common/Material_ui/ImageAvatars';\nimport Avatar from '@material-ui/core/Avatar';\n\nconst User = ({user,followingInProgress,unfollow,follow }) => {\n        return (\n            <div className={style.userContainer}>\n          <span>\n              <div className={style.userContainer}>\n                 <NavLink to={'./profile/' + user.id}>\n                     <ImageAvatars avatar = {user.photos.small}/>\n                 </NavLink>\n              </div>\n         <div>\n              <div className={style.userContainer}>\n                  <div>{user.name}</div><div>{user.status}</div>\n              </div>\n           <div className={style.userContainer}>\n             {user.followed ?\n                 <Button variant={'contained'} color={'primary'}\n                         disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\n                     unfollow(user.id);\n                 }}>Unfollow</Button> :\n                 <Button variant={'contained'} color={'primary'}\n                         disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\n                     follow(user.id);\n                 }}>Follow</Button>}\n           </div>\n\n             <div className={style.userContainer}>\n                     <NavLink to={'./dialogs/' + user.id} style={{textDecoration: 'none'}}>send message</NavLink>\n                 </div>\n         </div>\n          </span>\n            </div>)\n}\n\n\nexport default User;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Pagination from '@material-ui/lab/Pagination';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& > *': {\n            marginTop: theme.spacing(2),\n        },\n    },\n}));\n\nexport default function BasicPagination(props) {\n    const classes = useStyles();\n\n\n    return (\n        <div className={classes.root}>\n            <Pagination count={Math.ceil(  props.totalItemCount/10)} color=\"primary\"\n                        onChange={(e,value)=>props.onPageChanged(value)}/>\n        </div>\n    );\n}","import React from 'react';\nimport User from \"./User\";\nimport BasicPagination from '../common/Material_ui/BasicPaginator';\nimport style from './users.module.css'\n\n\nconst Users = ({currentPage, onPageChanged, totalUsersCount, pageSize, users, followingInProgress, unfollow,follow, ...props}) => {\n    return (\n        <div className={style.userContainer}>\n            <div>\n                <BasicPagination totalItemCount={totalUsersCount} onPageChanged={onPageChanged}/>\n            </div>\n            <div className={style.userContainer}>\n                {users.map(u => <User user={u} key={u.id} followingInProgress={followingInProgress}\n                                      unfollow={unfollow} follow={follow}/>)}\n            </div>\n        </div>)\n}\n\nexport default Users;","export const getUsers=(state)=>{\n  return state.usersPage.users\n};\n\nexport const getPageSize=(state)=>{\n  return state.usersPage.pageSize\n};\n\nexport const getTotalUsersCount=(state)=>{\n  return state.usersPage.totalUsersCount\n};\n\nexport const getCurrentPage=(state)=>{\n  return state.usersPage.currentPage\n};\nexport const getIsFetching=(state)=>{\n  return state.usersPage.isFetching\n};\nexport const getFollowingInProgress=(state)=>{\n  return state.usersPage.followingInProgress\n};\n\n\n/*\n        users: getUsers(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state)*/\n","import React, {useEffect} from 'react';\nimport {connect} from 'react-redux';\nimport {\n    follow,\n    setCurrentPage,\n    unfollow, toggleFollowingProgress, requestUsers\n} from '../../redux/users-reducer';\nimport Users from './Users';\nimport Preloader from \"../common/Preloader/Preloader\";\nimport {compose} from \"redux\";\nimport {\n    getCurrentPage,\n    getFollowingInProgress,\n    getIsFetching,\n    getPageSize,\n    getTotalUsersCount, getUsers\n} from \"../../redux/users-selectors\";\nimport Container from '@material-ui/core/Container';\nimport Paper from '@material-ui/core/Paper';\nimport style from './users.module.css'\n\nclass UsersContainer extends React.Component {\n\n    componentDidMount() {\n        let {currentPage, pageSize} = this.props\n        this.props.requestUsers(currentPage, pageSize)\n        this.props.handleDrawerClose()\n    }\n\n    onPageChanged = (pageNumber) => {\n        let {pageSize} = this.props\n        this.props.requestUsers(pageNumber, pageSize)\n    };\n\n    render = () => {\n        return <>\n            {this.props.isFetching ? <Preloader/> : \"\"}\n            <Container maxWidth={'sm'}>\n                <Paper style={{backgroundColor: '#eaf1f6'}}>\n                      <Users totalUsersCount={this.props.totalUsersCount}\n                             pageSize={this.props.pageSize}\n                             currentPage={this.props.currentPage}\n                             users={this.props.users}\n                             onPageChanged={this.onPageChanged}\n                             unfollow={this.props.unfollow}\n                             follow={this.props.follow}\n                             followingInProgress={this.props.followingInProgress}\n                      />\n                </Paper>\n            </Container>\n        </>\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        users: getUsers(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state)\n    }\n};\n\nexport default compose( connect(mapStateToProps,\n    {\n        toggleFollowingProgress,\n        follow,\n        unfollow,\n        setCurrentPage,\n        requestUsers,\n    })\n)(UsersContainer)","export const required = value=>{\n    if(value) return undefined\n    return 'Field is required'\n};\n\nexport const maxLengthCreator =(maxLength)=>value=>{\n    if(value.length>maxLength) return `Max length is ${maxLength} symbols`\n    return undefined\n};\n\n","import React  from \"react\";\nimport {reduxForm} from \"redux-form\";\nimport {createField, InputType} from \"../common/FormsControl/FormsControls\";\nimport {required} from \"../utils/vadidators/validators\";\nimport style from './../common/FormsControl/FormsControls.module.css'\nimport {connect} from \"react-redux\";\nimport {getLogin} from \"../../redux/auth-reducer\";\nimport {Redirect} from \"react-router-dom\";\nimport VpnKeyIcon from '@material-ui/icons/VpnKey';\nimport Container from '@material-ui/core/Container';\nimport Paper from '@material-ui/core/Paper';\nimport s from './Login.module.scc.css'\n\nconst LoginForm = ({handleSubmit,error,captchaUrl}) => {\n  return (\n      <form onSubmit={handleSubmit}>\n          {createField(\"Login\", 'email', InputType, [required])}\n          {createField(\"Password\", 'password', InputType, [required], {type: \"password\"})}\n          {createField(null, 'rememberMe', InputType, [], {type: 'checkbox'}, 'remember me')}\n          {captchaUrl && <img src={captchaUrl}/>}\n          {captchaUrl && createField(\"Symbols from image\", \"captcha\", InputType, [required])}\n          {error && <div className={style.formSummaryError}>{error}</div>}\n          <div>\n              <button className={style.button}><VpnKeyIcon color={'primary'}/></button>\n        </div>\n      </form>\n  )\n};\n\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm);\n\nconst Login = (props) => {\n    const onSubmit = (formData) => {\n        props.getLogin(formData.email, formData.password, formData.rememberMe, formData.captcha)\n    };\n\n    if (props.isAuth) {\n        return <Redirect to={'/profile'}/>\n    }\n\n    return (\n        <div>\n            <Container maxWidth={'md'}>\n                <Paper style={{backgroundColor: '#eaf1f6', padding: '20px'}}>\n                    <div className={s.loginContainer}>\n                        <div>\n                            <h1>Login</h1>\n                        </div>\n                        <div>\n                            <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\n                        </div>\n                    </div>\n                </Paper>\n            </Container>\n\n        </div>\n    )\n};\n\nconst mapStateToProps = (state) => ({\n    captchaUrl: state.auth.captchaUrl,\n    isAuth: state.auth.isAuth\n});\n\nexport default connect(mapStateToProps, {getLogin})(Login);","import React, {useEffect} from 'react';\n\nconst Settings = (props) => {\n    useEffect(() => props.handleDrawerClose(), [])\n    return (\n        <div >\n        Settings\n        </div>\n    );\n};\n\nexport default Settings;\n","import React, {Suspense} from 'react';\nimport clsx from 'clsx';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport Navbar from './components/Navbar/Navbar';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Badge from '@material-ui/core/Badge';\nimport MailIcon from '@material-ui/icons/Mail';\nimport {Redirect, Route, Switch} from 'react-router-dom';\nimport ProfileContainer from './components/Profile/ProfileInfo/ProfileContainer';\nimport Preloader from './components/common/Preloader/Preloader';\nimport News from './components/News/News';\nimport Music from './components/Music/Music';\nimport UsersContainer from './components/Users/UsersContainer';\nimport LoginPages from './components/login/Login';\nimport Settings from './components/Settings/Settings';\nconst DialogsContainer = React.lazy(() => import('./components/Dialigs/DialogsContainer'));\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n    },\n    appBar: {\n        transition: theme.transitions.create(['margin', 'width'], {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n    },\n    appBarShift: {\n        width: `calc(100% - ${drawerWidth}px)`,\n        marginLeft: drawerWidth,\n        transition: theme.transitions.create(['margin', 'width'], {\n            easing: theme.transitions.easing.easeOut,\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n    hide: {\n        display: 'none',\n    },\n    drawer: {\n        width: drawerWidth,\n        flexShrink: 0,\n    },\n    drawerPaper: {\n        width: drawerWidth,\n    },\n    drawerHeader: {\n        display: 'flex',\n        alignItems: 'center',\n        padding: theme.spacing(0, 1),\n        // necessary for content to be below app bar\n        ...theme.mixins.toolbar,\n        justifyContent: 'flex-end',\n    },\n    content: {\n        flexGrow: 1,\n        padding: theme.spacing(0),\n        transition: theme.transitions.create('margin', {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        marginLeft: -drawerWidth,\n    },\n    contentShift: {\n        transition: theme.transitions.create('margin', {\n            easing: theme.transitions.easing.easeOut,\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n        marginLeft: 0,\n    },\n}));\n\nexport default function PersistentDrawerLeft(props) {\n    const classes = useStyles();\n    const theme = useTheme();\n    const [open, setOpen] = React.useState(false);\n\n    const handleDrawerOpen = () => {\n        setOpen(true);\n    };\n\n    const handleDrawerClose = () => {\n        setOpen(false);\n    };\n\n    return (\n        <div className={classes.root}>\n            <CssBaseline />\n            <AppBar\n                position=\"fixed\"\n                className={clsx(classes.appBar, {\n                    [classes.appBarShift]: open,\n                })}\n            >\n                <Toolbar>\n                    <IconButton\n                        color=\"inherit\"\n                        aria-label=\"open drawer\"\n                        onClick={handleDrawerOpen}\n                        edge=\"start\"\n                        className={clsx(classes.menuButton, open && classes.hide)}\n                    >\n                        <MenuIcon />\n                    </IconButton>\n\n                    <div style={{\n                        display: 'flex', flexDirection: 'row',\n                        justifyContent: 'space-between', width: '100%', alignItems: 'center'\n                    }}>\n                        <div>\n                            <Badge badgeContent={props.newMessagesCount} color=\"secondary\">\n                                <MailIcon/>\n                            </Badge>\n                        </div>\n                        <div>\n                            <HeaderContainer/>\n                        </div>\n                        </div>\n                </Toolbar>\n            </AppBar>\n            <Drawer\n                className={classes.drawer}\n                variant=\"persistent\"\n                anchor=\"left\"\n                open={open}\n                classes={{\n                    paper: classes.drawerPaper,\n                }}\n            >\n                <div className={classes.drawerHeader}>\n                    <IconButton onClick={handleDrawerClose}>\n                        {theme.direction === 'ltr' ? <ChevronLeftIcon/> : <ChevronRightIcon/>}\n                    </IconButton>\n                </div>\n                <Divider/>\n                <List>\n                    <Navbar/>\n                </List>\n                <Divider/>\n            </Drawer>\n            <main\n                className={clsx(classes.content, {\n                    [classes.contentShift]: open,\n                })}\n            >\n                <div className={classes.drawerHeader} />\n                <Typography paragraph>\n                    <div className='app-wrapper-content'>\n                        <Switch>\n                            <Route path='/profile/:userId?' render={() => <ProfileContainer handleDrawerClose = {handleDrawerClose}/>}/>\n                            <Route path='/dialogs/:userId?' render={(props) => <Suspense fallback={<Preloader/>}>\n                                <DialogsContainer userId={props.match.params.userId} handleDrawerClose = {handleDrawerClose}/>\n                            </Suspense>}/>\n                            <Route path='/news' render={() => <News handleDrawerClose = {handleDrawerClose}/>}/>\n                            <Route path='/music' render={() => <Music handleDrawerClose = {handleDrawerClose}/>}/>\n                            <Route path='/settings' render={() => <Settings handleDrawerClose = {handleDrawerClose}/>}/>\n                            <Route path='/users' render={() => <UsersContainer handleDrawerClose = {handleDrawerClose}/>}/>\n                            <Route path='/login' render={() => <LoginPages/>}/>\n                            <Redirect exact path={'/'} to={'./profile'} render={() => <ProfileContainer handleDrawerClose = {handleDrawerClose}/>}/>\n                        </Switch>\n                    </div>\n                </Typography>\n            </main>\n        </div>\n    );\n}","import React, {Suspense} from 'react';\nimport './App.css';\nimport {withRouter, HashRouter} from \"react-router-dom\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport store from \"./redux/redux-store\";\nimport PersistentDrawerLeft from './Panel';\nimport {getNewMessagesCount} from './redux/dialogs-reducer';\nconst DialogsContainer = React.lazy(() => import('./components/Dialigs/DialogsContainer'));\n\nclass App extends React.Component {\n    componentDidMount() {\n        this.props.initializeApp()\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps !== this.props.newMessagesCount) {\n            setInterval(() => this.props.getNewMessagesCount(), 60000)\n        }\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        return (\n            <div className='app-wrapper'>\n                <PersistentDrawerLeft newMessagesCount={this.props.newMessagesCount}/>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized,\n    newMessagesCount: state.dialogsPage.newMessagesCount\n})\n\nconst AppContainer = compose(\n    withRouter,\n    connect(mapStateToProps, {initializeApp, getNewMessagesCount: getNewMessagesCount}))(App);\n\nconst MainApp = () => {\n    return <HashRouter>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </HashRouter>\n};\n\nexport default MainApp;","import ReactDOM from 'react-dom';\nimport React from 'react';\nimport './index.css';\nimport MainApp from './App';\nimport './index.css';\n\nReactDOM.render(<MainApp/>, document.getElementById('root'));\n\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userContainer\":\"users_userContainer__jswW6\",\"users\":\"users_users__11rIc\",\"userPhoto\":\"users_userPhoto__1c0N7\",\"selectedPages\":\"users_selectedPages__2aGko\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__Uwx9U\",\"error\":\"FormsControls_error__2LTbJ\",\"formSummaryError\":\"FormsControls_formSummaryError__3-HnG\",\"button\":\"FormsControls_button__3Z07g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postContainer\":\"MyPosts_postContainer__2SAj3\",\"item\":\"MyPosts_item__xSvhu\",\"postsBlock\":\"MyPosts_postsBlock__xqFVk\",\"posts\":\"MyPosts_posts__efrHz\",\"button\":\"MyPosts_button__3GRce\"};"],"sourceRoot":""}